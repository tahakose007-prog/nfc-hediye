<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ðŸ’– AnÄ±larÄ±mÄ±z</title>
<style>
body {
  font-family: Arial, sans-serif;
  background: linear-gradient(135deg,#ff9a9e,#fad0c4);
  min-height:100vh;
  margin:0;
  padding:20px;
  text-align:center;
}
h1 { color:white; }
.box {
  background:white;
  padding:15px;
  border-radius:15px;
  margin-top:15px;
}
input, textarea {
  width:90%;
  max-width:400px;
  padding:10px;
  margin:8px 0;
}
button {
  padding:12px 25px;
  border:none;
  border-radius:20px;
  background:#ff4f81;
  color:white;
  font-size:16px;
}
</style>
</head>
<body>

<h1>ðŸ’– AnÄ±larÄ±mÄ±z</h1>

<div class="box">
  <input type="file" id="file" accept="image/*,video/*"><br>
  <textarea id="msg" placeholder="Bir mesaj bÄ±rak ðŸ’Œ"></textarea><br>
  <button onclick="save()">Kaydet</button>
</div>

<div id="list"></div>

<script>
function save(){
  const fileInput = document.getElementById("file");
  const msg = document.getElementById("msg").value;
  const file = fileInput.files[0];

  let data = JSON.parse(localStorage.getItem("anilar") || "[]");

  if(file){
    const reader = new FileReader();
    reader.onload = () => {
      data.push({type:file.type, file:reader.result, msg});
      localStorage.setItem("anilar", JSON.stringify(data));
      location.reload();
    };
    reader.readAsDataURL(file);
  } else if(msg){
    data.push({type:"text", msg});
    localStorage.setItem("anilar", JSON.stringify(data));
    location.reload();
  } else {
    alert("Bir ÅŸey ekle ðŸ’•");
  }
}

window.onload = () => {
  let data = JSON.parse(localStorage.getItem("anilar") || "[]");
  const list = document.getElementById("list");

  data.forEach(i=>{
    const div=document.createElement("div");
    div.className="box";
    if(i.type.startsWith("image"))
      div.innerHTML+=`<img src="${i.file}" width="100%">`;
    if(i.type.startsWith("video"))
      div.innerHTML+=`<video src="${i.file}" controls width="100%"></video>`;
    if(i.msg) div.innerHTML+=`<p>${i.msg}</p>`;
    list.appendChild(div);
  });
};
</script>

</body>
</html>
